> 
>
> ```python
> 
>  ```

## 3.部门信息API

### 3.1 事件概述

此文档为部门管理相关的API详情 <department 模块>

### 3.2 事件定义

#### 3.2.1 部门信息展示 

登录状态下，管理员可以查看公司部门信息

#### 3.2.2 更改部门信息

登录状态下， 管理员可以对部门信息进行修改

#### 3.2.3 增加部门

登录状态下， 管理员可以增加部门信息

#### 3.2.4 查找部门信息

登录状态下,管理员可以通过部门编号查找部门信息

#### 3.25 删除部门信息

登录状态下,管理员可以删除部门信息,如果该部门还有员工,先删除员工,再删除部门.

### 3.3 数据库结构

| 字段名      | 类型 | 作用         | 备注1 | 备注2 |
| ----------- | ---- | ------------ | ----- | ----- |
| did         | int  | 部门编号     | 主键  |       |
| dept_name   | char | 部门名       |       |       |
| dept_header | char | 部门负责人   | 唯一  |       |
| dept_member | int  | 部门人数     | 默认0 |       |
| dept_phone  | char | 部门联系电话 | 外键  |       |

### 3.4 接口说明

#### 3.4.1 部门信息展示

- ​	URL : http://127.0.0.1:8000/v1/department

- ​	请求方式：GET

- ​	响应格式：

| 字段 | 含义             | 类型 | 备注      |
| ---- | ---------------- | ---- | --------- |
| code | 状态码           | int  | 默认为200 |
| data | 具体返回在data中 | { }  |           |

> 响应示例：
>
> ```python
> json = {'code': 200 ,
>  'data': {'did': ‘1’, 'dept_name':'技术部', 'dept_header':'张三', 'dept_member':100, 'dept_phone':16666666666}
> }
> ```

#### 3.4.2 更改部门信息

- ​	URL : http://127.0.0.1:8000/v1/department

- ​	请求方式：PUT

- ​	请求格式：

| 字段        | 含义         | 类型 | 备注 |
| ----------- | ------------ | ---- | ---- |
| did         | 部门编号     | int  |      |
| dept_name   | 部门名       | char |      |
| dept_header | 部门负责人   | char |      |
| dept_phone  | 部门联系电话 | char |      |

> 请求示例：
>
> ```python
> {'did': 1000, 'dept_name':'技术部', 'dept_header':'张三', 'dept_phone':16666666666}
> ```

- 响应格式：

| 字段 | 含义 | 类型 | 备注          |
| ---- | ---- | ---- | ------------- |
| code | 状态 | int  | 默认正常为200 |

> 响应示例：
>
> ```python
> {'code': 200}
> ```

#### 3.4.3 查询部门信息

- URL : http://127.0.0.1:8000/v1/department
- 请求方式：POST
- 请求格式

| 字段 | 含义     | 类型 | 备注 |
| ---- | -------- | ---- | ---- |
| did  | 部门编号 | int  |      |

> 请求示例：
>
> ```python
> {'did': 1}
> ```

- 响应格式：

| 字段 | 含义             | 类型 | 备注                        |
| ---- | ---------------- | ---- | --------------------------- |
| code | 状态             | int  | 默认正常为200，异常请见下表 |
| data | 具体返回在data中 | { }  |                             |

> 响应示例：
>
> ```python
> {'code': 200 , 'data': {...}}
> ```

- 异常码

| 字段  | 含义                   | 类型 | 备注 |
| ----- | ---------------------- | ---- | ---- |
| 10402 | 输入了不存在的部门编号 |      |      |

#### 3.4.4 添加部门信息

- URL : http://127.0.0.1:8000/v1/department/info
- 请求方式：POST
- 请求格式：

| 字段        | 含义         | 类型 | 备注 |
| ----------- | ------------ | ---- | ---- |
| did         | 部门编号     | int  |      |
| dept_name   | 部门名       | char |      |
| dept_header | 部门负责人   | char |      |
| dept_phone  | 部门联系电话 | char |      |

> 请求示例：
>
> ```python
> {'did': 1000, 'dept_name':'技术部', 'dept_header':'张三', 'dept_phone':16666666666}
> ```

- 响应格式：

| 字段 | 含义 | 类型 | 备注          |
| ---- | ---- | ---- | ------------- |
| code | 状态 | int  | 默认正常为200 |

> 响应示例：
>
> ```python
> {'code': 200}
> ```

- 异常码

| 字段  | 含义                   | 类型 | 备注 |
| ----- | ---------------------- | ---- | ---- |
| 10400 | 提交的部门编号已经存在 |      |      |
| 10401 | 提交的部门名已经存在   |      |      |

#### 3.45 删除部门信息

- URL :  http://127.0.0.1:8000/v1/department

- 请求方式：delete

- 请求格式

  | 字段      | 含义     | 类型 | 备注 |
  | --------- | -------- | ---- | ---- |
  | did       | 部门编号 | int  |      |
  | dept_name | 部门名   | char |      |

- 请求示例

  {'did': 1000}or{'dept_name':'技术部'}

- 相应格式

  | 字段 | 含义 | 类型 | 备注          |
  | ---- | ---- | ---- | ------------- |
  | code | 状态 | int  | 默认正常为200 |

- 相应示例

  {'code': 200,"did":1000,'dept_name':'技术部'已删除}

  
