## 1. 通讯录API

### 1.1 概述

公司员工的通讯录管理模块，只显示通讯信息。

### 1.2 事件定义

#### 1.2.1 通讯录查询

address.html框架,完成通讯录的查询工作。根据部门选择，输入姓名或电话进行员工的通讯信息查询。

#### 1.2.2 查询内容展示

address.html框架页面上展示员工的基本信息：姓名，性别，部门名称，部门职位，工号，电话，邮箱，入职时间的基本通讯信息。

### 1.3 数据库结构

| 字段名        | 类型        | 作用     | 备注1 | 备注2             |
| ------------- | ----------- | -------- | ----- | ----------------- |
| id            | int         | 员工编号 |       | 主键              |
| name          | varchar(20) | 员工姓名 |       | 非空              |
| sex           | varchar(10) | 员工性别 |       | 非空              |
| department    | varchar(16) | 部门名称 |       | 非空              |
| position_name | varchar(16) | 部门职位 |       | 非空              |
| phone         | varchar(32) | 电话     |       | 非空              |
| email         | varchar(32) | 邮箱     |       |                   |
| create_time   | datetime    | 入职时间 |       | auto_now_add=True |
| job_no        | varchar(16) | 工号     |       | 非空              |

### 1.4 接口说明

| 功能      | 注册接口                                  | 请求方式 |
| --------- | ----------------------------------------- | -------- |
| 通讯录    | http://127.0.0.1:8000/v1/address/         | GET      |
| 查询员工1 | http://127.0.0.1:8000/v1/address/ + name  | POST     |
| 查询员工2 | http://127.0.0.1:8000/v1/address/ + phone | POST     |

#### 1.4.1 查询员工

- 请求格式

| 字段          | 含义     | 类型    | 备注 |
| ------------- | -------- | ------- | ---- |
| address_name  | 员工姓名 | varchar |      |
| address_phone | 员工电话 | varchar |      |

> 请求示例：
>
> ```python
> json = {'address_name': address_name}
> ```

- 响应格式

| 字段 | 含义                         | 类型 | 备注                   |
| ---- | ---------------------------- | ---- | ---------------------- |
| code | 响应码                       | int  | 默认为200,异常详见下表 |
| data | 返回具体的数据都包含在data中 | [  ] |                        |

>  响应示例：
>
>  ```python
>  result = {
>    'code': 200,
>  	'data':[
>  		{'id': 1,'name': 'carol','sex': '女','department':'人事部', 'position_name': '人事专员','phone':'13433334444','email':'13433334444@qq.com','create_time':'2019-10-21','job_no':'10021'}
>  	]
>  }
>  ```

## 2. 工作报告API

### 1.1 概述

公司员工的工作报告管理模块,此模块需要在登录的状态下进行操作。个人工作模块。

### 1.2 事件定义

#### 1.2.1工作报告列表

在report_list.html框架基础上，开发新的页面，用于添加个人工作报告，修改个人工作报告和显示个人工作报告。

#### 1.2.2添加工作报告

在report_list.html框架基础上，开发新的页面，用于添加员工的个人工作报告内容。

#### 1.2.3修改工作报告

在report_list.html框架基础上，开发新的页面，用于修改员工的个人工作报告内容。

#### 1.2.4工作报告页

在report_list.html框架基础上，开发新的页面，用于显示员工的个人工作报告内容。

### 1.3 数据库结构

| 字段名       | 类型         | 作用     | 备注1 | 备注2 |
| ------------ | ------------ | -------- | ----- | ----- |
| id           | int          | 编号     |       | 主键  |
| title        | varchar(100) | 标题     |       | 非空  |
| content      | text         | 内容     |       | 非空  |
| created_time | datetime     | 创建时间 |       | 非空  |

### 1.4 接口说明

| 功能         | 注册接口                                     | 请求方式 |
| ------------ | -------------------------------------------- | -------- |
| 工作报告列表 | http://127.0.0.1:8000/v1/report/             | GET      |
| 添加工作报告 | http://127.0.0.1:8000/v1/report/ +add        | POST     |
| 修改工作报告 | http://127.0.0.1:8000/v1/report/  +update_id | PUT      |
| 工作报告内容 | http://127.0.0.1:8000/v1/report/ +content_id | GET      |

#### 1.4.1 工作报告列表

- 响应格式

| 字段 | 含义                         | 类型 | 备注                   |
| ---- | ---------------------------- | ---- | ---------------------- |
| code | 响应码                       | int  | 默认为200,异常详见下表 |
| data | 返回具体的数据都包含在data中 | [  ] |                        |

>  响应示例：
>
>  ```python
>  result = {
>    'code': 200,
>  	'data':[
>  		{'tite':'技术部门招聘','content': '在各大招聘网站上均有发布招聘信息','created_time': '2020-12-20'},
>        	{'tite':'客服部门招聘','content': '在各大招聘网站上均有发布招聘信息','created_time': '2020-12-20'}
>        ...
>  	]
>  }
>  ```

#### 1.4.2添加工作报告

- 请求格式

| 字段         | 含义     | 类型         | 备注 |
| ------------ | -------- | ------------ | ---- |
| title        | 标题     | varchar(100) |      |
| content      | 内容     | text         |      |
| created_time | 创建时间 | datetime     |      |

>  请求示例：
>
>  ```python
>  json = {
>  	'title': title,
>   'content': content,
>   'created_time':created_time
>  }
>  ```

- 响应格式

| 字段 | 含义   | 类型 | 备注                    |
| ---- | ------ | ---- | ----------------------- |
| code | 响应码 | int  | 默认为200，异常详见下表 |

> 响应示例：
>
> ```python
> result = {'code': 200}
> ```

- 异常码

| 异常码 | 含义                   | 备注 |
| ------ | ---------------------- | ---- |
| 201    | 工作报告没有添加成功！ |      |

#### 1.4.3修改工作报告

- 请求格式

| 字段      | 含义         | 类型 | 备注 |
| --------- | ------------ | ---- | ---- |
| update_id | 工作报告编号 | char |      |

> 请求示例：
>
> ```python
> json = {'update_id': update_id}
> ```

- 响应格式

| 字段 | 含义         | 类型 | 备注                    |
| ---- | ------------ | ---- | ----------------------- |
| code | 响应码       | int  | 默认为200，异常详见下表 |
| data | 存储响应数据 | [  ] |                         |

> 响应示例：
>
> ```python
> result = {'code': 200}
> ```

- 异常码

| 字段 | 含义                 | 类型 | 备注 |
| ---- | -------------------- | ---- | ---- |
| 202  | 修改失败，重新修改！ | text |      |

#### 1.4.4 删除工作报告

- 响应格式

| 字段 | 含义   | 类型 | 备注                    |
| ---- | ------ | ---- | ----------------------- |
| code | 响应码 | int  | 默认为200，异常详见下表 |

> 响应示例：
>
> ```python
> result = {'code': 200}
> ```

- 异常码

| 字段 | 含义       | 类型 | 备注 |
| ---- | ---------- | ---- | ---- |
| 203  | 删除失败！ |      |      |

#### 1.4.5 工作报告内容

- 请求格式

| 字段  | 含义 | 类型         | 备注 |
| ----- | ---- | ------------ | ---- |
| title | 标题 | varchar(100) |      |

>  请求示例：
>
>  ```python
>  json = {
>  	'title': title,
>  }
>  ```

- 响应格式

| 字段 | 含义   | 类型 | 备注                    |
| ---- | ------ | ---- | ----------------------- |
| code | 响应码 | int  | 默认为200，异常详见下表 |

> 响应示例：
>
> ```python
> result = {'code': 200}
> ```

- 异常码

| 异常码 | 含义       | 备注 |
| ------ | ---------- | ---- |
| 204    | 打开失败！ |      |

